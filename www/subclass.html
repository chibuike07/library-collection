<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>subclass collections</title>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

</head>

<body>
    <h1>SUBCLASS COLLECTIONS</h1> <br>
    <p>Christopher university library is a holding of collection of books and non materials . It's for every one ,
        students and staff of unichris and the library is set out to serve the patrons need , so do feel at home and you
        are free to come to any of the library staff for help in tracing of the reference books that you need. </p>
    <p> This are list of recent entries of book in unichris library </p>
    <!-- <script type="text/javascript" src="../www/js/subclass.js"></script> -->
    <p> <a href="christopher.html">
            <h3>
                <capitalize><button>home</button></capitalize>
            </h3>
        </a></p>

    <div id="missing-mainclass-error"></div>
    <ol id="our-listItem">

    </ol>

    <script type="text/javascript" src="../www/js/classesCatalog.js"></script>
    <script>

        // console.log("hello");
        let extractedMainClassQueryParameter = decodeURIComponent(window.location.search);
        extractedMainClassQueryParameter = extractedMainClassQueryParameter.substring(1);
        extractedMainClassQueryParameter = extractedMainClassQueryParameter.split('=')[1];
        // var queries = extractedFormValue.split("&");
        // for (var i = 0; i < queries.length; i++) {
        //     document.write(queries[i] + "<br>");
        // }
        
        loadSubclassesFor = (mainClassToRender) => {
            const subclasses = mainClasses[mainClassToRender];
            
            if (subclasses == null) {
                //main class not found
                renderMainClassNotFound(mainClassToRender);
            } else {
                renderSubclasses(subclasses);
            }
            
        }
        
        renderSubclasses = (subclassesForRendering) => {
            const orderedSubClassList = document.getElementById("our-listItem");
            subclassesForRendering.map((subclass) => {
                const liElement = document.createElement("li");
                const aElement = document.createElement("a");
                aElement.setAttribute("href", "book collections.html?subclass=" + subclass);
                aElement.innerText = subclass;
                
                liElement.appendChild(aElement);
                
                orderedSubClassList.appendChild(liElement)
            });
        }
        
        renderMainClassNotFound = (expectedMainClass) => {
            const missingMainClassErrorDiv = document.getElementById("missing-mainclass-error");
            const pElement = document.createElement("p");
            pElement.innerText = expectedMainClass + " class does not exist anymore!";
            missingMainClassErrorDiv.appendChild(pElement)
        }


        loadSubclassesFor(extractedMainClassQueryParameter);
    </script>
</body>

</html>