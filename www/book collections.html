!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Book collections</title>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <style>
        body {
            background-color: darkolivegreen;
        }
    </style>
    <link rel="stylesheet" href="../www/css/nav bar.css">
</head>

<body>

        <nav>
                <ul>
                  <li>
                      <a href="christopher.html">Home</a>
                  </li>
                  <li>
                      <a href="unichris library.html">Library</a>
                  </li>
                  <li>
                      <a href="main class.html">Collections</a>
                  </li>
                  <li>
                      <a href="developer.html"> Developer</a>
                  </li>
                </ul>
              </nav>
    
    <img name="pic" src="../www/library image/shelve images3.png"  alt="" width="100%" height="300px"  />
    <!----img src="../www/library image/logo library.jpg" alt="../www/library image" width="100%" height="150px"-->
    
    <div id="cont"></div>
    <script type="text/javascript" src="../www/js/book collections.js"></script>

   
    <a href="unichris library.html">
        <h3 style="float:left">
            <capitalize><button> Nelson Mandela Library</button></capitalize>
        </h3>
    </a>
    <a href="main class.html">
        <h3 style="float:left">
            <capitalize><button>Main class collections</button></capitalize>
        </h3>
    </a>
    <a href="christopher.html">
        <h3 style="float:left">
            <capitalize><button>Back to home</button></capitalize>
        </h3>
    </a>

    <table>
    
    </table>
    <script>
        
          //creating date object
    var now = new Date();
    //extracting the time info. 
    var sec = now.getSeconds();
    var mn = now.getMinutes();
    var hh = now.getHours();
    //var ms = now.getMilliseconds();
    // setting default greeting
    var hi = "Good Morning"
    // seting welcome note if after 11 pm
    
    if (hh > 11) hi = "Good Afernoon"
    //seting welcome note if after 17 pm
    
    if (hh > 17) hi = "Good Evening"
    //displaying the welcome note withthe present time nd month
    var tim = hi + "\n";
    tim += "Hours:" + hh + "\n";
    tim += " Minutes:" + mn + "\n";
    tim += "seconds:" + sec + "\n";
    alert(tim);
    //making the slide show to rotate every 3 seconds
    var pause = 3000;
    var n = 0;
    var imgs = new Array("../www/library image/shelve images3.png", "../www/library image/shelve image2.jpg", "../www/library image/tenor.gif");
    var preload = new Array();
    for (var i = 1; i < imgs.length; i++) {
        preload[i] = new Image();
        preload[i].src = imgs
    }
    
    function rotate() {
        document.images.pic.src = imgs[n];
        (n == (imgs.length - 1)) ? n = 0 : n++
        setTimeout("rotate()", pause);// the time to which to slide show stops and if it stops start 
    }
    rotate();
        let expectedSubClass = decodeURIComponent(window.location.search);
        expectedSubClass = expectedSubClass.substring(1);
        expectedSubClass = expectedSubClass.split("=")[1];
        loadSubClassesFor = (subclassName) => {
            let collectionMapToRender = [];
            
            const subClass = subclasses[subclassName];
            
            if (typeof subClass == 'undefined') {
                alert("Books no longer in collection");
            } else {
                collectionMapToRender[subclassName] = subClass
                
            }
            renderSubClass(subClass);
        }
        
        renderSubClass = (collections) => {
            // SIMPLY ADD OR REMOVE VALUES IN THE ARRAY FOR TABLE HEADERS.
 // FIRST CREATE A TABLE STRUCTURE BY ADDING A FEW HEADERS AND
    // ADD THE TABLE TO YOUR WEB PAGE.
    function generateTableHead(table, data){
        let thead = table.createTHead();
        let row = thead.insertRow();
        for (let key of data){
            let th = document.createElement("th");
            let text = document.createTextNode(key);
            th.appendChild(text);
            row.appendChild(th);
        }
    }
    function generateTable(table,data){
        for (let element of data) {
            let row = table.insertRow();
            for (key in element){
                let cell = row.insertCell();
                let text = document.createTextNode(element[key]);
                console.log(element[key])
                cell.appendChild(text);
            }
        }
    }
    let table = document.querySelector("table");
    let data = Object.keys(collections);
    generateTableHead(table, data)
    generateTable(table, collections)
        }   
   loadSubClassesFor(expectedSubClass)
